CREATE TABLE clienti (
  codFiscale varchar(16) NOT NULL primary key,
  nome varchar(30) NOT NULL,
  cognome varchar(30) NOT NULL,
  username varchar(30),
  password varchar(30),
  UNIQUE KEY(`username`)
)

CREATE TABLE interventi (
  id int NOT NULL AUTO_INCREMENT primary key,
  idInt int NOT NULL,
  idOpe int NOT NULL,
  foreign key(idInt) references tipi_interventi(id) on update cascade,
  foreign key(idOpe) references operazioni(id) on update cascade
);

CREATE TABLE operazioni (
  id int NOT NULL AUTO_INCREMENT primary key,
  dataAcc date NOT NULL,
  dataPre date NOT NULL,
  dataRic date NOT NULL,
  targa varchar(7) NOT NULL,
  stato varchar(30) NOT NULL,
  foreign key(targa) references veicoli(targa) on update cascade
)

CREATE TABLE prodotti (
  id int NOT NULL AUTO_INCREMENT primary key,
  nome varchar(30) NOT NULL,
  descrizione varchar(30) NOT NULL,
  prezzo decimal(7,2) NOT NULL,
  codCateg int NOT NULL,
  foreign key(codCateg) references categorie(codice) on update cascade

)

CREATE TABLE tipi_interventi (
  id int NOT NULL AUTO_INCREMENT primary key,
  nome varchar(30) NOT NULL,
  ore int NOT NULL
)

CREATE TABLE utilizzi (
  idOpe int NOT NULL,
  idPro int NOT NULL,
  quantita int NOT NULL,
  PRIMARY KEY (idOpe,idPro),
    foreign key(idOpe) references operazioni(id) on update cascade,
  foreign key(idPro) references prodotti(id) on update cascade
)

CREATE TABLE veicoli (
  targa varchar(7) NOT NULL primary key,
  marca varchar(30) NOT NULL,
  modello varchar(30) DEFAULT NULL,
  anno int NOT NULL,
  cfCliente varchar(16) NOT NULL,
  foreign key(cfCliente) references clienti(codFiscale) on update cascade
)

CREATE TABLE categorie (
  codice int NOT NULL AUTO_INCREMENT primary key,
  descrizione varchar(50) NOT NULL
)